/****************************************************************************
****************************************************************************/
#include "aduc812.h"


/**----------------------------------------------------------------------------
                        init_sio()
-------------------------------------------------------------------------------

----------------------------------------------------------------------------- */
void init_sio( unsigned char speed )
{
    TH1       =  speed;
    TMOD     |=  0x20; 
    TCON     |=  0x40; 
    SCON      =  0x50; 
    ES        =  0;    
}

/**----------------------------------------------------------------------------
                        RSioStat()
-------------------------------------------------------------------------------

----------------------------------------------------------------------------- */
unsigned char rsiostat(void)
{
    return RI;
}


/**----------------------------------------------------------------------------
                        wsio
-------------------------------------------------------------------------------

----------------------------------------------------------------------------- */
void wsio( unsigned char c )
{
    SBUF = c;
    TI   = 0;
    while( !TI );
}

/**----------------------------------------------------------------------------
                        rsio()
-------------------------------------------------------------------------------

----------------------------------------------------------------------------- */
unsigned char rsio(void)
{
    while( !RI );
    RI = 0;
    return SBUF;
}


/**----------------------------------------------------------------------------
                        type()
-------------------------------------------------------------------------------

----------------------------------------------------------------------------- */
void type(char * str)
{
    while( *str ) wsio( *str++ );
}